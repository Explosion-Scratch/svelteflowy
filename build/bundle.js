var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function l(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e){return null==e?"":e}const d="undefined"!=typeof window;let s=d?()=>window.performance.now():()=>Date.now(),a=d?e=>requestAnimationFrame(e):e;const u=new Set;function p(e){u.forEach((t=>{t.c(e)||(u.delete(t),t.f())})),0!==u.size&&a(p)}function h(e){let t;return 0===u.size&&a(p),{promise:new Promise((n=>{u.add(t={c:e,f:n})})),abort(){u.delete(t)}}}function f(e,t){e.appendChild(t)}function m(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function g(e){const t=y("style");return function(e,t){f(e.head||e,t),t.sheet}(m(e),t),t.sheet}function v(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function k(){return x(" ")}function _(){return x("")}function E(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t){t=""+t,e.data!==t&&(e.data=t)}function q(e,t,n,i){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function T(e,t,n){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t)return void(i.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function L(e,t,n){e.classList[n?"add":"remove"](t)}function M(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}const A=new Map;let H,Z=0;function z(e,t,n,i,o,l,c,r=0){const d=16.666/i;let s="{\n";for(let e=0;e<=1;e+=d){const i=t+(n-t)*l(e);s+=100*e+`%{${c(i,1-i)}}\n`}const a=s+`100% {${c(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(a)}_${r}`,p=m(e),{stylesheet:h,rules:f}=A.get(p)||function(e,t){const n={stylesheet:g(t),rules:{}};return A.set(e,n),n}(p,e);f[u]||(f[u]=!0,h.insertRule(`@keyframes ${u} ${a}`,h.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${u} ${i}ms linear ${o}ms 1 both`,Z+=1,u}function N(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-i.length;o&&(e.style.animation=i.join(", "),Z-=o,Z||a((()=>{Z||(A.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&$(t)})),A.clear())})))}function B(e){H=e}function I(){if(!H)throw new Error("Function called outside component initialization");return H}function R(e){I().$$.on_mount.push(e)}function V(){const e=I();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=M(t,n,{cancelable:i});return o.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}const j=[],P=[];let D=[];const O=[],W=Promise.resolve();let Q=!1;function F(e){D.push(e)}function J(e){O.push(e)}const K=new Set;let U,Y=0;function G(){if(0!==Y)return;const e=H;do{try{for(;Y<j.length;){const e=j[Y];Y++,B(e),X(e.$$)}}catch(e){throw j.length=0,Y=0,e}for(B(null),j.length=0,Y=0;P.length;)P.pop()();for(let e=0;e<D.length;e+=1){const t=D[e];K.has(t)||(K.add(t),t())}D.length=0}while(j.length);for(;O.length;)O.pop()();Q=!1,K.clear(),B(e)}function X(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}function ee(){return U||(U=Promise.resolve(),U.then((()=>{U=null}))),U}function te(e,t,n){e.dispatchEvent(M(`${t?"intro":"outro"}${n}`))}const ne=new Set;let ie;function oe(){ie={r:0,c:[],p:ie}}function le(){ie.r||o(ie.c),ie=ie.p}function ce(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function re(e,t,n,i){if(e&&e.o){if(ne.has(e))return;ne.add(e),ie.c.push((()=>{ne.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}const de={duration:0};function se(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function ae(e){e&&e.c()}function ue(e,t,i,c){const{fragment:r,after_update:d}=e.$$;r&&r.m(t,i),c||F((()=>{const t=e.$$.on_mount.map(n).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),d.forEach(F)}function pe(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];D.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),D=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function he(e,t){-1===e.$$.dirty[0]&&(j.push(e),Q||(Q=!0,W.then(G)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function fe(t,n,l,c,r,d,s,a=[-1]){const u=H;B(t);const p=t.$$={fragment:null,ctx:[],props:d,update:e,not_equal:r,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:i(),dirty:a,skip_bound:!1,root:n.target||u.$$.root};s&&s(p.root);let h=!1;if(p.ctx=l?l(t,n.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return p.ctx&&r(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),h&&he(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach($)}else p.fragment&&p.fragment.c();n.intro&&ce(t.$$.fragment),ue(t,n.target,n.anchor,n.customElement),G()}B(u)}class me{$destroy(){pe(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ge=()=>Math.random().toString(36).slice(2).replace(/[0-9-]+/g,"");function ve(e,{delay:n=0,duration:i=400,easing:o=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:i,easing:o,css:e=>"opacity: "+e*l}}function $e(e){const t=t=>{!e||e.contains(t.target)||t.defaultPrevented||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function we(e,t,n){const i=e.slice();return i[12]=t[n],i[13]=t,i[14]=n,i}function ye(e,t,n){const i=e.slice();return i[15]=t[n],i}function be(e){const t=e.slice(),n=t[0][t[14]].options.find((function(...n){return e[6](t[14],...n)})).icon;return t[18]=n,t}function xe(e){let t,n,i,o,l,c,r=e[12].label+"",d=e[12].shortcut+"",s=e[12].icon&&_e(e);return{c(){s&&s.c(),t=k(),n=y("span"),i=x(r),o=k(),l=y("span"),c=x(d),C(n,"class","label svelte-1ratli2"),C(l,"class","shortcut svelte-1ratli2")},m(e,r){s&&s.m(e,r),v(e,t,r),v(e,n,r),f(n,i),v(e,o,r),v(e,l,r),f(l,c)},p(e,n){e[12].icon?s?s.p(e,n):(s=_e(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),1&n&&r!==(r=e[12].label+"")&&S(i,r),1&n&&d!==(d=e[12].shortcut+"")&&S(c,d)},d(e){s&&s.d(e),e&&$(t),e&&$(n),e&&$(o),e&&$(l)}}}function ke(e){let t,n,i,l,c=e[14],r=e[3][e[14]]&&Ee(be(e)),d=e[12].options,s=[];for(let t=0;t<d.length;t+=1)s[t]=Se(ye(e,d,t));const a=()=>e[7](n,c),u=()=>e[7](null,c);function p(){e[8].call(n,e[14])}function h(){return e[9](e[14],e[12])}return{c(){r&&r.c(),t=k(),n=y("select");for(let e=0;e<s.length;e+=1)s[e].c();C(n,"class","svelte-1ratli2"),void 0===e[3][e[14]]&&F(p)},m(o,c){r&&r.m(o,c),v(o,t,c),v(o,n,c);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(n,null);a(),T(n,e[3][e[14]],!0),i||(l=[E(n,"change",p),E(n,"change",h)],i=!0)},p(i,o){if((e=i)[3][e[14]]?r?r.p(be(e),o):(r=Ee(be(e)),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),1&o){let t;for(d=e[12].options,t=0;t<d.length;t+=1){const i=ye(e,d,t);s[t]?s[t].p(i,o):(s[t]=Se(i),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=d.length}c!==e[14]&&(u(),c=e[14],a()),9&o&&T(n,e[3][e[14]])},d(e){r&&r.d(e),e&&$(t),e&&$(n),w(s,e),u(),i=!1,o(l)}}}function _e(e){let t,n=e[12].icon+"";return{c(){t=y("div"),C(t,"class","icon svelte-1ratli2")},m(e,i){v(e,t,i),t.innerHTML=n},p(e,i){1&i&&n!==(n=e[12].icon+"")&&(t.innerHTML=n)},d(e){e&&$(t)}}}function Ee(e){let t,n=e[18]&&Ce(e);return{c(){n&&n.c(),t=_()},m(e,i){n&&n.m(e,i),v(e,t,i)},p(e,i){e[18]?n?n.p(e,i):(n=Ce(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&$(t)}}}function Ce(e){let t,n=e[18]+"";return{c(){t=y("div"),C(t,"class","icon svelte-1ratli2")},m(e,i){v(e,t,i),t.innerHTML=n},p(e,i){9&i&&n!==(n=e[18]+"")&&(t.innerHTML=n)},d(e){e&&$(t)}}}function Se(e){let t,n,i,o,l=e[15].label+"";return{c(){t=y("option"),n=x(l),i=k(),t.__value=o=e[15].id,t.value=t.__value,C(t,"class","svelte-1ratli2")},m(e,o){v(e,t,o),f(t,n),f(t,i)},p(e,i){1&i&&l!==(l=e[15].label+"")&&S(n,l),1&i&&o!==(o=e[15].id)&&(t.__value=o,t.value=t.__value)},d(e){e&&$(t)}}}function qe(e){let t,n,i,o,l;function c(e,t){return"select"===e[12].type?ke:"shortcut"===e[12].type?xe:void 0}let r=c(e),d=r&&r(e);function s(...t){return e[10](e[12],...t)}return{c(){t=y("div"),d&&d.c(),n=k(),C(t,"class",i="item "+e[12].type+" svelte-1ratli2")},m(e,i){v(e,t,i),d&&d.m(t,null),f(t,n),o||(l=E(t,"click",s),o=!0)},p(o,l){r===(r=c(e=o))&&d?d.p(e,l):(d&&d.d(1),d=r&&r(e),d&&(d.c(),d.m(t,n))),1&l&&i!==(i="item "+e[12].type+" svelte-1ratli2")&&C(t,"class",i)},d(e){e&&$(t),d&&d.d(),o=!1,l()}}}function Te(n){let i,c,r,d,a,u,p=n[0],f=[];for(let e=0;e<p.length;e+=1)f[e]=qe(we(n,p,e));return{c(){i=y("div");for(let e=0;e<f.length;e+=1)f[e].c();C(i,"class","menu svelte-1ratli2"),q(i,"position",n[1].type),q(i,"top",n[1].y+"px"),q(i,"left",n[1].x+"px")},m(t,o){v(t,i,o);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(i,null);var c;d=!0,a||(u=[(c=$e.call(null,i),c&&l(c.destroy)?c.destroy:e),E(i,"click_outside",n[11])],a=!0)},p(e,[t]){if(29&t){let n;for(p=e[0],n=0;n<p.length;n+=1){const o=we(e,p,n);f[n]?f[n].p(o,t):(f[n]=qe(o),f[n].c(),f[n].m(i,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=p.length}2&t&&q(i,"position",e[1].type),2&t&&q(i,"top",e[1].y+"px"),2&t&&q(i,"left",e[1].x+"px")},i(o){d||(F((()=>{d&&(r&&r.end(1),c=function(n,i,o){const c={direction:"in"};let r,d,a=i(n,o,c),u=!1,p=0;function f(){r&&N(n,r)}function m(){const{delay:i=0,duration:o=300,easing:l=t,tick:c=e,css:m}=a||de;m&&(r=z(n,0,1,o,i,l,m,p++)),c(0,1);const g=s()+i,v=g+o;d&&d.abort(),u=!0,F((()=>te(n,!0,"start"))),d=h((e=>{if(u){if(e>=v)return c(1,0),te(n,!0,"end"),f(),u=!1;if(e>=g){const t=l((e-g)/o);c(t,1-t)}}return u}))}let g=!1;return{start(){g||(g=!0,N(n),l(a)?(a=a(c),ee().then(m)):m())},invalidate(){g=!1},end(){u&&(f(),u=!1)}}}(i,n[5],{duration:500}),c.start())})),d=!0)},o(n){c&&c.invalidate(),r=function(n,i,c){const r={direction:"out"};let d,a=i(n,c,r),u=!0;const p=ie;function f(){const{delay:i=0,duration:l=300,easing:c=t,tick:r=e,css:f}=a||de;f&&(d=z(n,1,0,l,i,c,f));const m=s()+i,g=m+l;F((()=>te(n,!1,"start"))),h((e=>{if(u){if(e>=g)return r(0,1),te(n,!1,"end"),--p.r||o(p.c),!1;if(e>=m){const t=c((e-m)/l);r(1-t,t)}}return u}))}return p.r+=1,l(a)?ee().then((()=>{a=a(r),f()})):f(),{end(e){e&&a.tick&&a.tick(1,0),u&&(d&&N(n,d),u=!1)}}}(i,ve,{duration:100}),d=!1},d(e){e&&$(i),w(f,e),e&&r&&r.end(),a=!1,o(u)}}}function Le(e,t,n){const i=V();let{items:o=[]}=t,l=[],c=[],{position:r={type:"relative",x:0,y:0}}=t;return e.$$set=e=>{"items"in e&&n(0,o=e.items),"position"in e&&n(1,r=e.position)},[o,r,l,c,i,function(e,{duration:t}){return{duration:t,css:e=>{const t=function(e){const t=1.70158;return--e*e*((t+1)*e+t)+1}(e);return`\n\t\t\t\t\ttransform: scale(${t/3+1/3*2});\n\t\t\t\t\topacity: ${t}`}}},(e,t)=>t.id===c[e],function(e,t){P[e?"unshift":"push"]((()=>{l[t]=e,n(2,l)}))},function(e){c[e]=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(3,c),n(0,o)},(e,t)=>i("click",{type:"selectchange",value:c[e],element:l[e],...t}),(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation(),"select"!==e.type&&i("click",e)},()=>i("blur")]}class Me extends me{constructor(e){super(),fe(this,e,Le,Te,c,{items:0,position:1})}}function Ae(t){let n,i,o;return{c(){n=y("button"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" class="svelte-kufrtw"><path d="M13.75 9.56879C14.0833 9.76124 14.0833 10.2424 13.75 10.4348L8.5 13.4659C8.16667 13.6584 7.75 13.4178 7.75 13.0329L7.75 6.97072C7.75 6.58582 8.16667 6.34525 8.5 6.5377L13.75 9.56879Z" stroke="none" fill="currentColor"></path></svg>',C(n,"class","collapse svelte-kufrtw"),L(n,"collapsed",t[0])},m(e,l){v(e,n,l),i||(o=E(n,"click",t[2]),i=!0)},p(e,[t]){1&t&&L(n,"collapsed",e[0])},i:e,o:e,d(e){e&&$(n),i=!1,o()}}}function He(e,t,n){const i=V();let{collapsed:o=!1}=t;return e.$$set=e=>{"collapsed"in e&&n(0,o=e.collapsed)},[o,i,()=>(n(0,o=!o),i("change"))]}class Ze extends me{constructor(e){super(),fe(this,e,He,Ae,c,{collapsed:0})}}function ze(t){let n,i,o;return{c(){n=y("button"),n.innerHTML='<svg class="completed_check svelte-1upxqkv" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m10.6 16.2l7.05-7.05l-1.4-1.4l-5.65 5.65l-2.85-2.85l-1.4 1.4ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h14q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14ZM5 5v14V5Z"></path></svg> \n  <svg class="incomplete_check svelte-1upxqkv" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h14q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Z"></path></svg>',C(n,"class","checkbox svelte-1upxqkv")},m(e,l){v(e,n,l),i||(o=E(n,"click",t[1]),i=!0)},p:e,i:e,o:e,d(e){e&&$(n),i=!1,o()}}}function Ne(e){const t=V();return[t,e=>t("click",e)]}class Be extends me{constructor(e){super(),fe(this,e,Ne,ze,c,{})}}function Ie(t){let n,i,o;return{c(){n=y("button"),n.innerHTML='<svg viewBox="0 0 18 18" fill="currentColor" class="bullet svelte-rzrygc"><circle fill="black" cx="9" cy="9" r="3.5"></circle></svg>',C(n,"class","zoom svelte-rzrygc"),L(n,"background",t[0])},m(e,l){v(e,n,l),i||(o=E(n,"click",t[2]),i=!0)},p(e,[t]){1&t&&L(n,"background",e[0])},i:e,o:e,d(e){e&&$(n),i=!1,o()}}}function Re(e,t,n){const i=V();let{background:o=!0}=t;return e.$$set=e=>{"background"in e&&n(0,o=e.background)},[o,i,()=>i("click")]}class Ve extends me{constructor(e){super(),fe(this,e,Re,Ie,c,{background:0})}}function je(t){let n,i,l,c;return{c(){n=y("span"),C(n,"id",ge()),C(n,"class",i=r(t[3]||"editable")+" svelte-15x1pox"),C(n,"contenteditable","true"),void 0===t[0]&&F((()=>t[6].call(n))),L(n,"description",t[2])},m(e,i){v(e,n,i),void 0!==t[0]&&(n.innerHTML=t[0]),t[7](n),l||(c=[E(n,"keyup",t[4]),E(n,"keydown",t[4]),E(n,"input",t[4]),E(n,"change",t[4]),E(n,"input",t[6])],l=!0)},p(e,[t]){8&t&&i!==(i=r(e[3]||"editable")+" svelte-15x1pox")&&C(n,"class",i),1&t&&e[0]!==n.innerHTML&&(n.innerHTML=e[0]),12&t&&L(n,"description",e[2])},i:e,o:e,d(e){e&&$(n),t[7](null),l=!1,o(c)}}}function Pe(e){var t=window.getSelection(),n=t.getRangeAt(0);n.setStart(e,0);var i=n.toString().length;return function(n){var o=function(e,t){const n=NodeFilter.SHOW_TEXT;var i=document.createTreeWalker(e,n,(function(e){return t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT})).nextNode();return{node:i||e,position:t}}(n||e,i);t.removeAllRanges();var l=new Range;l.setStart(o.node,o.position),t.addRange(l)}}function De(e,t,n){const i=V();let o,{value:l=""}=t,{element:c}=t,{description:r=!1}=t,{c:d=null}=t;return R((()=>{o=c.closest("[id*=item_]").getAttribute("id"),console.log(o),l||n(0,l=""),c.addEventListener("api-focus",(()=>{console.log(o,window.savedCursors),console.log("Got focus: ",c.id,c.innerText),document.activeElement.closest(`#${c.id}`)||(c.focus(),setTimeout((()=>{return e=c,void(document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select()));var e,t,n})))})),i("ready")})),e.$$set=e=>{"value"in e&&n(0,l=e.value),"element"in e&&n(1,c=e.element),"description"in e&&n(2,r=e.description),"c"in e&&n(3,d=e.c)},[l,c,r,d,function(e){if(i("change",e),"keydown"===e.type){if("Backspace"===event.code&&event.ctrlKey&&event.shiftKey&&(i("delete"),e.preventDefault()),"Backspace"===e.key&&0===l.trim().length&&(i("delete"),e.preventDefault()),"Enter"===e.code&&e.ctrlKey)return void i("togglecomplete");if(e.shiftKey&&"Enter"===e.key)return e.preventDefault(),void i("description");"Enter"!==e.key||r||(e.preventDefault(),i("newbullet")),"Tab"===e.key&&(r?(!function(){if(!window.getSelection)return;const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0);t.collapse(!0);const n=document.createElement("span");n.appendChild(document.createTextNode("\t")),n.style.whiteSpace="pre",t.insertNode(n),t.setStartAfter(n),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}(),e.preventDefault()):(e.preventDefault(),e.shiftKey?i("outdent"):i("indent"))),"ArrowUp"===e.key&&i("selectup"),"ArrowDown"===e.key&&i("selectdown")}},Pe,function(){l=this.innerHTML,n(0,l)},function(e){P[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}class Oe extends me{constructor(e){super(),fe(this,e,De,je,c,{value:0,element:1,description:2,c:3,saveCursor:5})}get saveCursor(){return Pe}}function We(e,t,n){const i=e.slice();return i[44]=t[n],i[46]=n,i}function Qe(e){let t,n,i,o,l;function c(t){e[8](t)}let r={};return void 0!==e[0].text&&(r.value=e[0].text),n=new Oe({props:r}),P.push((()=>se(n,"value",c))),n.$on("selectdown",e[9]),n.$on("newbullet",e[10]),{c(){t=y("h2"),ae(n.$$.fragment),C(t,"class","item_title svelte-d9ug5w"),C(t,"id",o="item_"+e[0].id)},m(e,i){v(e,t,i),ue(n,t,null),l=!0},p(e,c){const r={};!i&&1&c[0]&&(i=!0,r.value=e[0].text,J((()=>i=!1))),n.$set(r),(!l||1&c[0]&&o!==(o="item_"+e[0].id))&&C(t,"id",o)},i(e){l||(ce(n.$$.fragment,e),l=!0)},o(e){re(n.$$.fragment,e),l=!1},d(e){e&&$(t),pe(n)}}}function Fe(e){let t,n,i,o,l,c,r,d,s,a,u,p,h,m,g,w,b,x,_,S,q,T=e[0].children?.length&&Je(e),M=e[3].show&&e[3].item.id===e[0].id&&Ke(e);s=new Ve({props:{background:!!e[0].children?.length&&!e[0].open}}),s.$on("click",e[15]);let A="checkbox"===e[0].display&&Ue(e);function H(t){e[17](t)}let Z={};function z(t){e[28](t)}void 0!==e[0].text&&(Z.value=e[0].text),p=new Oe({props:Z}),P.push((()=>se(p,"value",H))),p.$on("change",e[18]),p.$on("delete",e[19]),p.$on("newbullet",e[20]),p.$on("ready",e[21]),p.$on("outdent",e[22]),p.$on("indent",e[23]),p.$on("selectup",e[24]),p.$on("selectdown",e[25]),p.$on("togglecomplete",e[26]),p.$on("description",e[27]);let N={description:!0,c:"description"};return void 0!==e[0].description&&(N.value=e[0].description),w=new Oe({props:N}),P.push((()=>se(w,"value",z))),w.$on("change",e[29]),w.$on("delete",e[30]),w.$on("togglecomplete",e[31]),w.$on("description",e[32]),{c(){t=y("li"),n=y("div"),i=y("div"),T&&T.c(),o=k(),l=y("div"),l.innerHTML='<svg width="32" height="32" viewBox="0 0 256 256" class="svelte-d9ug5w"><path fill="currentColor" d="M156 128a28 28 0 1 1-28-28a28.1 28.1 0 0 1 28 28ZM48 100a28 28 0 1 0 28 28a28.1 28.1 0 0 0-28-28Zm160 0a28 28 0 1 0 28 28a28.1 28.1 0 0 0-28-28Z" class="svelte-d9ug5w"></path></svg>',c=k(),M&&M.c(),r=k(),d=y("div"),ae(s.$$.fragment),a=k(),A&&A.c(),u=k(),ae(p.$$.fragment),m=k(),g=y("span"),ae(w.$$.fragment),C(l,"class","hover svelte-d9ug5w"),C(i,"class","options svelte-d9ug5w"),L(i,"options_open",e[3].show&&e[3].item.id===e[0].id),C(d,"class","bullets svelte-d9ug5w"),C(n,"class","top svelte-d9ug5w"),C(g,"class","description svelte-d9ug5w"),L(g,"empty",!e[0].description?.trim()?.length),C(t,"class","item svelte-d9ug5w"),C(t,"id",x="item_"+e[0].id),L(t,"nochildren",!e[0].children?.length),L(t,"completed",e[0].completed)},m(h,$){v(h,t,$),f(t,n),f(n,i),T&&T.m(i,null),f(i,o),f(i,l),f(i,c),M&&M.m(i,null),f(n,r),f(n,d),ue(s,d,null),f(d,a),A&&A.m(d,null),f(n,u),ue(p,n,null),f(t,m),f(t,g),ue(w,g,null),_=!0,S||(q=E(l,"click",e[13]),S=!0)},p(e,n){e[0].children?.length?T?(T.p(e,n),1&n[0]&&ce(T,1)):(T=Je(e),T.c(),ce(T,1),T.m(i,o)):T&&(oe(),re(T,1,1,(()=>{T=null})),le()),e[3].show&&e[3].item.id===e[0].id?M?(M.p(e,n),9&n[0]&&ce(M,1)):(M=Ke(e),M.c(),ce(M,1),M.m(i,null)):M&&(oe(),re(M,1,1,(()=>{M=null})),le()),(!_||9&n[0])&&L(i,"options_open",e[3].show&&e[3].item.id===e[0].id);const l={};1&n[0]&&(l.background=!!e[0].children?.length&&!e[0].open),s.$set(l),"checkbox"===e[0].display?A?(A.p(e,n),1&n[0]&&ce(A,1)):(A=Ue(e),A.c(),ce(A,1),A.m(d,null)):A&&(oe(),re(A,1,1,(()=>{A=null})),le());const c={};!h&&1&n[0]&&(h=!0,c.value=e[0].text,J((()=>h=!1))),p.$set(c);const r={};!b&&1&n[0]&&(b=!0,r.value=e[0].description,J((()=>b=!1))),w.$set(r),(!_||1&n[0])&&L(g,"empty",!e[0].description?.trim()?.length),(!_||1&n[0]&&x!==(x="item_"+e[0].id))&&C(t,"id",x),(!_||1&n[0])&&L(t,"nochildren",!e[0].children?.length),(!_||1&n[0])&&L(t,"completed",e[0].completed)},i(e){_||(ce(T),ce(M),ce(s.$$.fragment,e),ce(A),ce(p.$$.fragment,e),ce(w.$$.fragment,e),_=!0)},o(e){re(T),re(M),re(s.$$.fragment,e),re(A),re(p.$$.fragment,e),re(w.$$.fragment,e),_=!1},d(e){e&&$(t),T&&T.d(),M&&M.d(),pe(s),A&&A.d(),pe(p),pe(w),S=!1,q()}}}function Je(e){let t,n,i;function o(t){e[11](t)}let l={};return void 0!==e[0].open&&(l.collapsed=e[0].open),t=new Ze({props:l}),P.push((()=>se(t,"collapsed",o))),t.$on("change",e[12]),{c(){ae(t.$$.fragment)},m(e,n){ue(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.collapsed=e[0].open,J((()=>n=!1))),t.$set(o)},i(e){i||(ce(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){pe(t,e)}}}function Ke(e){let t,n;return t=new Me({props:{items:[{label:e[0].completed?"Uncomplete":"Complete",icon:'<svg width="32" height="32" viewBox="0 0 256 256"><path fill="currentColor" d="M104 190a5.8 5.8 0 0 1-4.2-1.8l-56-56a5.9 5.9 0 0 1 8.4-8.4l51.8 51.7L211.8 67.8a5.9 5.9 0 0 1 8.4 8.4l-112 112a5.8 5.8 0 0 1-4.2 1.8Z"/></svg>',type:"shortcut",shortcut:"Control+Enter",id:"complete"},{label:"Add note",icon:'<svg width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.75 1.75 0 0 1-.699.409l-5.523 1.68a.75.75 0 0 1-.935-.935l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963l2.787-2.786zm-2.275 4.371l-10.28 9.813a.25.25 0 0 0-.067.108l-1.264 4.154l4.177-1.271a.25.25 0 0 0 .1-.059l10.273-9.806l-2.94-2.939zM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5L19 8.44z"/></svg>',type:"shortcut",shortcut:"Shift+Enter",id:"desc"},{label:"Delete",type:"shortcut",icon:'<svg width="32" height="32" viewBox="0 0 256 256"><path fill="currentColor" d="M216 50h-42V40a22.1 22.1 0 0 0-22-22h-48a22.1 22.1 0 0 0-22 22v10H40a6 6 0 0 0 0 12h10v146a14 14 0 0 0 14 14h128a14 14 0 0 0 14-14V62h10a6 6 0 0 0 0-12ZM94 40a10 10 0 0 1 10-10h48a10 10 0 0 1 10 10v10H94Zm100 168a2 2 0 0 1-2 2H64a2 2 0 0 1-2-2V62h132Zm-84-104v64a6 6 0 0 1-12 0v-64a6 6 0 0 1 12 0Zm48 0v64a6 6 0 0 1-12 0v-64a6 6 0 0 1 12 0Z"/></svg>',shortcut:"Control+Shift+Del",id:"del"}],position:e[3].position}}),t.$on("blur",e[14]),t.$on("click",e[6]),{c(){ae(t.$$.fragment)},m(e,i){ue(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.items=[{label:e[0].completed?"Uncomplete":"Complete",icon:'<svg width="32" height="32" viewBox="0 0 256 256"><path fill="currentColor" d="M104 190a5.8 5.8 0 0 1-4.2-1.8l-56-56a5.9 5.9 0 0 1 8.4-8.4l51.8 51.7L211.8 67.8a5.9 5.9 0 0 1 8.4 8.4l-112 112a5.8 5.8 0 0 1-4.2 1.8Z"/></svg>',type:"shortcut",shortcut:"Control+Enter",id:"complete"},{label:"Add note",icon:'<svg width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.75 1.75 0 0 1-.699.409l-5.523 1.68a.75.75 0 0 1-.935-.935l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963l2.787-2.786zm-2.275 4.371l-10.28 9.813a.25.25 0 0 0-.067.108l-1.264 4.154l4.177-1.271a.25.25 0 0 0 .1-.059l10.273-9.806l-2.94-2.939zM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5L19 8.44z"/></svg>',type:"shortcut",shortcut:"Shift+Enter",id:"desc"},{label:"Delete",type:"shortcut",icon:'<svg width="32" height="32" viewBox="0 0 256 256"><path fill="currentColor" d="M216 50h-42V40a22.1 22.1 0 0 0-22-22h-48a22.1 22.1 0 0 0-22 22v10H40a6 6 0 0 0 0 12h10v146a14 14 0 0 0 14 14h128a14 14 0 0 0 14-14V62h10a6 6 0 0 0 0-12ZM94 40a10 10 0 0 1 10-10h48a10 10 0 0 1 10 10v10H94Zm100 168a2 2 0 0 1-2 2H64a2 2 0 0 1-2-2V62h132Zm-84-104v64a6 6 0 0 1-12 0v-64a6 6 0 0 1 12 0Zm48 0v64a6 6 0 0 1-12 0v-64a6 6 0 0 1 12 0Z"/></svg>',shortcut:"Control+Shift+Del",id:"del"}]),8&n[0]&&(i.position=e[3].position),t.$set(i)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){pe(t,e)}}}function Ue(t){let n,i;return n=new Be({}),n.$on("click",t[16]),{c(){ae(n.$$.fragment)},m(e,t){ue(n,e,t),i=!0},p:e,i(e){i||(ce(n.$$.fragment,e),i=!0)},o(e){re(n.$$.fragment,e),i=!1},d(e){pe(n,e)}}}function Ye(e){let t,n,i=e[0].children,o=[];for(let t=0;t<i.length;t+=1)o[t]=Ge(We(e,i,t));const l=e=>re(o[e],1,1,(()=>{o[e]=null}));return{c(){t=y("ul");for(let e=0;e<o.length;e+=1)o[e].c();C(t,"class","svelte-d9ug5w"),L(t,"children",!e[2])},m(e,i){v(e,t,i);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,c){if(35&c[0]){let n;for(i=e[0].children,n=0;n<i.length;n+=1){const l=We(e,i,n);o[n]?(o[n].p(l,c),ce(o[n],1)):(o[n]=Ge(l),o[n].c(),ce(o[n],1),o[n].m(t,null))}for(oe(),n=i.length;n<o.length;n+=1)l(n);le()}(!n||4&c[0])&&L(t,"children",!e[2])},i(e){if(!n){for(let e=0;e<i.length;e+=1)ce(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)re(o[e]);n=!1},d(e){e&&$(t),w(o,e)}}}function Ge(e){let t,n;return t=new tt({props:{item:e[44]}}),t.$on("zoom",e[33]),t.$on("indent",e[34]),t.$on("togglecomplete",e[35]),t.$on("delete",e[36]),t.$on("outdent",e[37]),t.$on("parentoutdent",e[38]),t.$on("selectup",e[39]),t.$on("selectdown",e[40]),t.$on("newbullet",e[41]),t.$on("change",(function(...t){return e[42](e[46],...t)})),{c(){ae(t.$$.fragment)},m(e,i){ue(t,e,i),n=!0},p(n,i){e=n;const o={};1&i[0]&&(o.item=e[44]),t.$set(o)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){pe(t,e)}}}function Xe(e){let t,n,i,o,l=e[2]&&e[0].text?.length&&Qe(e),c=!e[2]&&Fe(e),r=e[0].children&&(e[0].open||e[4])&&Ye(e);return{c(){t=y("div"),l&&l.c(),n=k(),c&&c.c(),i=k(),r&&r.c(),C(t,"class","item svelte-d9ug5w"),L(t,"parentcompleted",e[0].completed)},m(d,s){v(d,t,s),l&&l.m(t,null),f(t,n),c&&c.m(t,null),f(t,i),r&&r.m(t,null),e[43](t),o=!0},p(e,d){e[2]&&e[0].text?.length?l?(l.p(e,d),5&d[0]&&ce(l,1)):(l=Qe(e),l.c(),ce(l,1),l.m(t,n)):l&&(oe(),re(l,1,1,(()=>{l=null})),le()),e[2]?c&&(oe(),re(c,1,1,(()=>{c=null})),le()):c?(c.p(e,d),4&d[0]&&ce(c,1)):(c=Fe(e),c.c(),ce(c,1),c.m(t,i)),e[0].children&&(e[0].open||e[4])?r?(r.p(e,d),17&d[0]&&ce(r,1)):(r=Ye(e),r.c(),ce(r,1),r.m(t,null)):r&&(oe(),re(r,1,1,(()=>{r=null})),le()),(!o||1&d[0])&&L(t,"parentcompleted",e[0].completed)},i(e){o||(ce(l),ce(c),ce(r),o=!0)},o(e){re(l),re(c),re(r),o=!1},d(n){n&&$(t),l&&l.d(),c&&c.d(),r&&r.d(),e[43](null)}}}function et(e,t,n){let{item:i={}}=t,{isTop:o=!1}=t,{outermost:l=!1}=t,{container:c}=t,r={show:!1,item:{},position:{}};const d=V();let s=!1;var a;a=()=>{void 0===i.open&&n(0,i.open=!0,i),o&&!i.open&&n(4,s=!0),i.children||n(0,i.children=[],i),i.description||n(0,i.description="",i),d("change",i)},I().$$.after_update.push(a);return e.$$set=e=>{"item"in e&&n(0,i=e.item),"isTop"in e&&n(2,o=e.isTop),"outermost"in e&&n(7,l=e.outermost),"container"in e&&n(1,c=e.container)},[i,c,o,r,s,d,function(e){let t=e.detail;switch(console.log("Clicked",t),n(3,r.show=!1,r),t.id){case"del":d("delete",{id:r.item.id});break;case"complete":d("togglecomplete",{id:r.item.id});break;case"desc":c.querySelector(`#item_${r.item.id} .description[contenteditable]`).dispatchEvent(new CustomEvent("api-focus"));break;default:console.log(t.id,"not recognized: ",t)}n(3,r.item={},r)},l,function(t){e.$$.not_equal(i.text,t)&&(i.text=t,n(0,i))},e=>{i.children?.length&&c.querySelector(`#item_${i.children[0].id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>{const t=ge();n(0,i.children=[{text:"",id:t,children:[],completed:!1},...i.children],i),setTimeout((()=>{c.querySelector(`#item_${t} .editable`).dispatchEvent(new CustomEvent("api-focus"))}))},function(t){e.$$.not_equal(i.open,t)&&(i.open=t,n(0,i))},()=>d("change",i),e=>{let t=e.target.getBoundingClientRect();n(3,r.position={type:"fixed",x:t.left,y:t.top+t.height},r),n(3,r.item=i,r),console.log(r),n(3,r.show=!0,r)},()=>n(3,r.show=!1,r),()=>d("zoom",{item:i}),()=>d("togglecomplete",{id:i.id}),function(t){e.$$.not_equal(i.text,t)&&(i.text=t,n(0,i))},()=>d("change",i),()=>d("delete",{id:i.id}),()=>d("newbullet",{id:i.id}),()=>d("ready",{id:i.id}),()=>d("outdent",{id:i.id}),()=>d("indent",{id:i.id}),()=>d("selectup",{id:i.id}),()=>d("selectdown",{id:i.id}),()=>d("togglecomplete",{id:i.id}),()=>{c.querySelector(`#item_${i.id} .description[contenteditable]`).dispatchEvent(new CustomEvent("api-focus"))},function(t){e.$$.not_equal(i.description,t)&&(i.description=t,n(0,i))},()=>d("change",i),()=>{c.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},()=>d("togglecomplete",{id:i.id}),()=>{c.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>d("zoom",{item:e.detail.item}),e=>{let t=i.children.findIndex((t=>t.id===e.detail.id)),o=i.children.find((t=>t.id===e.detail.id));if(t>0){n(0,i.children[t-1].children=[...i.children[t-1].children||[],o],i);const e=()=>{c.querySelector(`#item_${o.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))};for(let e of[i,i.children[t-1]])e.open=!0;n(0,i.children=i.children.filter((e=>e.id!==o.id)),i),console.log(i),setTimeout(e)}},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));n(0,i.children[t].completed=!i.children[t].completed,i)},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));t>0?c.querySelector(`#item_${i.children[t-1].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):(c.querySelector(`#item_${i.id} .editable`)||console.log(i,i.children,e.detail,document.querySelector(`#item_${e.detail.id}`)),c.querySelector(`#item_${i.id} .editable`)?.dispatchEvent(new CustomEvent("api-focus"))),n(0,i.children=i.children.filter((t=>t.id!==e.detail.id)),i)},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id)),o=i.children[t];if(t<i.children.length-1){let e=i.children.slice(t,i.children.length);e=e.filter((e=>e.id!==o.id)),console.log(e),n(0,i.children=i.children.slice(0,t+1),i),o.children||(o.children=[]),o.children.push(...e)}n(0,i.children=i.children.filter((e=>e.id!==o.id)),i),setTimeout((()=>{n(0,i.children=i.children.filter((e=>e.id!==o.id)),i)})),console.log(o,i),d("parentoutdent",{item:o,parent:i}),d("change",i)},e=>{let t=i.children.findIndex((t=>t.id===e.detail.parent.id));i.children.splice(t+1,0,e.detail.item),setTimeout((()=>{c.querySelector(`#item_${e.detail.item.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))}))},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));t>0?i.children[t-1]?.children?.length?c.querySelector(`#item_${i.children[t-1].children.slice(-1)[0].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):c.querySelector(`#item_${i.children[t-1].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):0===t&&c.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));!i.children[t].children?.length||e.detail.skip?t<i.children?.length-1?c.querySelector(`#item_${i.children[t+1].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):t===i.children?.length-1&&d("selectdown",{id:i.id,skip:!0}):c.querySelector(`#item_${i.children[t].children[0].id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>{const t=ge();let o=i.children.findIndex((t=>t.id===e.detail.id));i.children.splice(o+1,0,{text:"",id:t,children:[],completed:!1}),n(0,i.children=[...i.children],i),setTimeout((()=>{c.querySelector(`#item_${t} .editable`).dispatchEvent(new CustomEvent("api-focus"))}))},(e,t)=>(n(0,i.children[e]=t.detail,i),d("change",i)),function(e){P[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}class tt extends me{constructor(e){super(),fe(this,e,et,Xe,c,{item:0,isTop:2,outermost:7,container:1},null,[-1,-1])}}function nt(e,t,n){const i=e.slice();return i[8]=t[n],i[10]=n,i}function it(e){const t=e.slice(),n=t[1].filter((e=>!Array.isArray(e)));return t[11]=n,t}function ot(e){let t,n;return{c(){t=b("svg"),n=b("path"),C(n,"fill","currentColor"),C(n,"d","M96 214a6 6 0 0 1-4.2-10.2l75.7-75.8l-75.7-75.8a5.9 5.9 0 0 1 8.4-8.4l80 80a5.8 5.8 0 0 1 0 8.4l-80 80A5.8 5.8 0 0 1 96 214Z"),C(t,"class","right nomargin svelte-1bblvtc"),C(t,"width","32"),C(t,"height","32"),C(t,"viewBox","0 0 256 256")},m(e,i){v(e,t,i),f(t,n)},d(e){e&&$(t)}}}function lt(e){let t,n,i,o,l,c,r=e[8].text+"",d=e[8]!==e[1].filter(e[4]).slice(-1)[0];function s(){return e[7](e[10])}let a=d&&ct();return{c(){t=y("button"),n=x(r),i=k(),a&&a.c(),o=_(),C(t,"class","crumb svelte-1bblvtc"),L(t,"last",e[11].indexOf(e[8])===e[11].length-1)},m(e,r){v(e,t,r),f(t,n),v(e,i,r),a&&a.m(e,r),v(e,o,r),l||(c=E(t,"click",s),l=!0)},p(i,l){e=i,2&l&&r!==(r=e[8].text+"")&&S(n,r),2&l&&L(t,"last",e[11].indexOf(e[8])===e[11].length-1),2&l&&(d=e[8]!==e[1].filter(e[4]).slice(-1)[0]),d?a||(a=ct(),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(e){e&&$(t),e&&$(i),a&&a.d(e),e&&$(o),l=!1,c()}}}function ct(e){let t,n;return{c(){t=b("svg"),n=b("path"),C(n,"fill","currentColor"),C(n,"d","M96 214a6 6 0 0 1-4.2-10.2l75.7-75.8l-75.7-75.8a5.9 5.9 0 0 1 8.4-8.4l80 80a5.8 5.8 0 0 1 0 8.4l-80 80A5.8 5.8 0 0 1 96 214Z"),C(t,"class","right svelte-1bblvtc"),C(t,"width","32"),C(t,"height","32"),C(t,"viewBox","0 0 256 256")},m(e,i){v(e,t,i),f(t,n)},d(e){e&&$(t)}}}function rt(e){let t,n=!Array.isArray(e[8]),i=n&&lt(it(e));return{c(){i&&i.c(),t=_()},m(e,n){i&&i.m(e,n),v(e,t,n)},p(e,o){2&o&&(n=!Array.isArray(e[8])),n?i?i.p(it(e),o):(i=lt(it(e)),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(e){i&&i.d(e),e&&$(t)}}}function dt(t){let n,i,o,l,c,r,d,s=t[1].filter(t[5]).length>0,a=s&&ot(),u=t[1],p=[];for(let e=0;e<u.length;e+=1)p[e]=rt(nt(t,u,e));return{c(){n=y("div"),i=b("svg"),o=b("path"),l=k(),a&&a.c(),c=k();for(let e=0;e<p.length;e+=1)p[e].c();C(o,"fill","currentColor"),C(o,"d","M208 222H48a14 14 0 0 1-14-14v-92.5a13.9 13.9 0 0 1 4.6-10.3l80-72.8a14.1 14.1 0 0 1 18.8 0l80 72.8a13.9 13.9 0 0 1 4.6 10.3V208a14 14 0 0 1-14 14ZM128 40.8a1.9 1.9 0 0 0-1.3.5l-80 72.8a1.6 1.6 0 0 0-.7 1.4V208a2 2 0 0 0 2 2h160a2 2 0 0 0 2-2v-92.5a1.8 1.8 0 0 0-.6-1.4l-80.1-72.8a1.9 1.9 0 0 0-1.3-.5Z"),C(i,"class","home svelte-1bblvtc"),C(i,"width","32"),C(i,"height","32"),C(i,"viewBox","0 0 256 256"),C(n,"class","crumb_container svelte-1bblvtc")},m(e,s){v(e,n,s),f(n,i),f(i,o),f(n,l),a&&a.m(n,null),f(n,c);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(n,null);r||(d=E(i,"click",t[6]),r=!0)},p(e,[t]){if(2&t&&(s=e[1].filter(e[5]).length>0),s?a||(a=ot(),a.c(),a.m(n,c)):a&&(a.d(1),a=null),7&t){let i;for(u=e[1],i=0;i<u.length;i+=1){const o=nt(e,u,i);p[i]?p[i].p(o,t):(p[i]=rt(o),p[i].c(),p[i].m(n,null))}for(;i<p.length;i+=1)p[i].d(1);p.length=u.length}},i:e,o:e,d(e){e&&$(n),a&&a.d(),w(p,e),r=!1,d()}}}function st(e,t,n){const i=V();let{path:o}=t,{bullet:l={}}=t,c=[];return e.$$set=e=>{"path"in e&&n(0,o=e.path),"bullet"in e&&n(3,l=e.bullet)},e.$$.update=()=>{if(9&e.$$.dirty)e:{if(!o){n(1,c=[]);break e}let e=o.split("."),t=[],i=l;for(let n of e)t.push(i[n]),i=i[n];n(1,c=t)}},[o,c,i,l,e=>!Array.isArray(e),e=>!Array.isArray(e),()=>i("click",{path:""}),e=>i("click",{path:o.split(".").slice(0,e+1)})]}class at extends me{constructor(e){super(),fe(this,e,st,dt,c,{path:0,bullet:3})}}var ut={id:"tukpjtucg",completed:!1,children:[{text:"What is this?",id:"xlhueplvhc",children:[{text:"It's a clone of a popular app called Workflowy",id:"orufxxowvt",children:[{text:"What is Workflowy?",id:"pyvl",children:[{text:"Basically what you're seeing here",id:"jginukt",children:[],completed:!1,description:"",open:!0},{text:"Coming soon:",id:"vlhekkhyh",children:[{text:"mirror items",id:"rpkqtwnja",children:[],completed:!1,description:"",open:!0},{text:"Add links, formatting toolbar",id:"ljgfuczcn",children:[],completed:!1,description:"",open:!0},{text:"Corner click menus",id:"magpdsz",children:[],completed:!1,description:"",open:!0},{text:"Parse exported items from workflowy",id:"xntpyxib",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Why?",id:"adewrnpl",children:[{text:"I was bored",id:"wycremrdh",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!1}],completed:!1,description:"Workflowy isn't open source. Which annoys me",open:!0},{text:"Who made it?",id:"vsjjyvn",children:[{text:"@Explosion-Scratch",id:"mbrfqyvk",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Click the home button in the header to see more!",id:"home"}],completed:!1,description:"",open:!0},{text:"How do I use it?",id:"ivvhql",children:[{text:"Just type basically",id:"vqrioja",children:[],completed:!1,description:"",open:!0},{text:"Hit enter to create a new bullet point",id:"dwkdpdobsj",children:[{text:"Hover over the bullet icon of a bullet point to collapse it",id:"igaitpi",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Press tab to indent an item",id:"azozdsc",children:[{text:"Press Shift + Tab to undo it",id:"vruwdrvhhf",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Click on the menu up top to navigate back to the main notes!",id:"quaw",children:[],completed:!1,description:"",open:!0},{text:"Use shift + enter to add a description",id:"gkdjyurwse",children:[{text:"Press shift + enter again to go back to editing bullet points",id:"enwefxnd",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"Like this",open:!0}],completed:!1,description:"",open:!1},{text:"Show me some features!",id:"dalmdwc",children:[{text:"It's rich HTML so you can use <b>bold</b>&nbsp;and <i>italic</i>&nbsp;text",id:"atlmloojt",children:[],completed:!1,description:"",open:!0},{text:"You can collapse items by clicking on the arrow new to the bullet point",id:"dipzengk",children:[],completed:!1,description:"",open:!0},{text:'You can "zoom" to items by clicking on the bullet point',id:"tvdsgndh",children:[],completed:!1,description:"",open:!0},{text:"You can add descriptions with Shift + enter",id:"lfobtj",children:[],completed:!1,description:"",open:!0},{text:"You eventually will be able to toggle the style of the bullet points",id:"tialrbnq",children:[{text:"Like this checkbox!",id:"maypdcfsvd",children:[],display:"checkbox",completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0}],open:!0};function pt(e){let t,n,i,o,l,c,r,d,s,a,u,p,h;function m(t){e[7](t)}n=new at({props:{path:e[0],bullet:e[1]}}),n.$on("click",e[5]);let g={outermost:!0,isTop:!0};return void 0!==e[2]&&(g.item=e[2]),s=new tt({props:g}),P.push((()=>se(s,"item",m))),s.$on("change",e[3]),s.$on("zoom",e[8]),{c(){t=y("div"),ae(n.$$.fragment),i=k(),o=b("svg"),l=b("path"),c=k(),r=y("div"),d=y("div"),ae(s.$$.fragment),C(l,"fill","currentColor"),C(l,"d","M216 34H88a6 6 0 0 0-6 6v42H40a6 6 0 0 0-6 6v128a6 6 0 0 0 6 6h128a6 6 0 0 0 6-6v-42h42a6 6 0 0 0 6-6V40a6 6 0 0 0-6-6Zm-54 176H46V94h116Zm48-48h-36V88a6 6 0 0 0-6-6H94V46h116Z"),C(o,"class","copy svelte-velh0a"),C(o,"width","32"),C(o,"height","32"),C(o,"viewBox","0 0 256 256"),C(t,"class","header svelte-velh0a"),C(d,"class","container svelte-velh0a"),C(r,"class","outer_container svelte-velh0a")},m(a,m){v(a,t,m),ue(n,t,null),f(t,i),f(t,o),f(o,l),v(a,c,m),v(a,r,m),f(r,d),ue(s,d,null),u=!0,p||(h=E(o,"click",e[6]),p=!0)},p(e,[t]){const i={};1&t&&(i.path=e[0]),2&t&&(i.bullet=e[1]),n.$set(i);const o={};!a&&4&t&&(a=!0,o.item=e[2],J((()=>a=!1))),s.$set(o)},i(e){u||(ce(n.$$.fragment,e),ce(s.$$.fragment,e),u=!0)},o(e){re(n.$$.fragment,e),re(s.$$.fragment,e),u=!1},d(e){e&&$(t),pe(n),e&&$(c),e&&$(r),pe(s),p=!1,h()}}}function ht(e,t){for(var n in t)if(t.hasOwnProperty(n)){if(e===t[n])return n;if(t[n]&&"object"==typeof t[n]){var i=ht(e,t[n]);if(i)return n+"."+i}}}function ft(e,t,n){let i,o=ut,l=o;R((()=>{if(localStorage.getItem("listItems"))try{let e=JSON.parse(localStorage.listItems);e?.id&&e?.children?.length&&n(1,o=e)}catch(e){n(1,o=ut)}n(2,l=o)}));const c=(e,t)=>t.reduce(((e,t)=>e&&null!==e[t]&&void 0!==e[t]?e[t]:null),e);return[i,o,l,function(){l.id==o.id?(n(1,o=l),n(0,i="")):(n(0,i=ht(l,o)),console.log(i),n(1,o=function(e,t,n){const i=t.split("."),o=i.pop();return i.reduce(((e,t)=>(void 0===e[t]&&(e[t]={}),e[t])),e)[o]=n,e}(o,i,l))),localStorage.setItem("listItems",JSON.stringify(o))},c,e=>{n(2,l=""===e.detail.path?o:c(o,e.detail.path))},()=>navigator.clipboard.writeText(JSON.stringify(o,null,2)),function(e){l=e,n(2,l)},e=>n(2,l=e.detail.item)]}return new class extends me{constructor(e){super(),fe(this,e,ft,pt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
