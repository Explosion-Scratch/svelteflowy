var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e){return null==e?"":e}function r(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function s(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function a(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function f(){return h(" ")}function m(){return h("")}function g(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t,n){e.classList[n?"add":"remove"](t)}let b;function x(e){b=e}function w(){if(!b)throw new Error("Function called outside component initialization");return b}function y(){const e=w();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}(t,n,{cancelable:i});return o.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}const k=[],E=[],_=[],q=[],C=Promise.resolve();let S=!1;function T(e){_.push(e)}function j(e){q.push(e)}const A=new Set;let z=0;function H(){const e=b;do{for(;z<k.length;){const e=k[z];z++,x(e),M(e.$$)}for(x(null),k.length=0,z=0;E.length;)E.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];A.has(t)||(A.add(t),t())}_.length=0}while(k.length);for(;q.length;)q.pop()();S=!1,A.clear(),x(e)}function M(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const L=new Set;let Z;function B(){Z={r:0,c:[],p:Z}}function I(){Z.r||i(Z.c),Z=Z.p}function V(e,t){e&&e.i&&(L.delete(e),e.i(t))}function N(e,t,n,i){if(e&&e.o){if(L.has(e))return;L.add(e),Z.c.push((()=>{L.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}function Q(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function R(e){e&&e.c()}function W(e,n,l,c){const{fragment:r,after_update:d}=e.$$;r&&r.m(n,l),c||T((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):i(n),e.$$.on_mount=[]})),d.forEach(T)}function D(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function P(e,t){-1===e.$$.dirty[0]&&(k.push(e),S||(S=!0,C.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function O(t,o,l,c,r,d,u,a=[-1]){const p=b;x(t);const h=t.$$={fragment:null,ctx:[],props:d,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:o.target||p.$$.root};u&&u(h.root);let f=!1;if(h.ctx=l?l(t,o.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return h.ctx&&r(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),f&&P(t,e)),n})):[],h.update(),f=!0,i(h.before_update),h.fragment=!!c&&c(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(s)}else h.fragment&&h.fragment.c();o.intro&&V(t.$$.fragment),W(t,o.target,o.anchor,o.customElement),H()}x(p)}class Y{$destroy(){D(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const K=()=>Math.random().toString(36).slice(2).replace(/[0-9-]+/g,"");function J(t){let n,i,o;return{c(){n=a("button"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" class="svelte-kufrtw"><path d="M13.75 9.56879C14.0833 9.76124 14.0833 10.2424 13.75 10.4348L8.5 13.4659C8.16667 13.6584 7.75 13.4178 7.75 13.0329L7.75 6.97072C7.75 6.58582 8.16667 6.34525 8.5 6.5377L13.75 9.56879Z" stroke="none" fill="currentColor"></path></svg>',$(n,"class","collapse svelte-kufrtw"),v(n,"collapsed",t[0])},m(e,l){d(e,n,l),i||(o=g(n,"click",t[2]),i=!0)},p(e,[t]){1&t&&v(n,"collapsed",e[0])},i:e,o:e,d(e){e&&s(n),i=!1,o()}}}function U(e,t,n){const i=y();let{collapsed:o=!1}=t;return e.$$set=e=>{"collapsed"in e&&n(0,o=e.collapsed)},[o,i,()=>(n(0,o=!o),i("change"))]}class F extends Y{constructor(e){super(),O(this,e,U,J,l,{collapsed:0})}}function G(t){let n,i,o;return{c(){n=a("button"),n.innerHTML='<svg class="completed_check svelte-1upxqkv" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m10.6 16.2l7.05-7.05l-1.4-1.4l-5.65 5.65l-2.85-2.85l-1.4 1.4ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h14q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14ZM5 5v14V5Z"></path></svg> \n  <svg class="incomplete_check svelte-1upxqkv" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h14q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Z"></path></svg>',$(n,"class","checkbox svelte-1upxqkv")},m(e,l){d(e,n,l),i||(o=g(n,"click",t[1]),i=!0)},p:e,i:e,o:e,d(e){e&&s(n),i=!1,o()}}}function X(e){const t=y();return[t,e=>t("click",e)]}class ee extends Y{constructor(e){super(),O(this,e,X,G,l,{})}}function te(t){let n,i,o;return{c(){n=a("button"),n.innerHTML='<svg viewBox="0 0 18 18" fill="currentColor" class="bullet svelte-rzrygc"><circle fill="black" cx="9" cy="9" r="3.5"></circle></svg>',$(n,"class","zoom svelte-rzrygc"),v(n,"background",t[0])},m(e,l){d(e,n,l),i||(o=g(n,"click",t[2]),i=!0)},p(e,[t]){1&t&&v(n,"background",e[0])},i:e,o:e,d(e){e&&s(n),i=!1,o()}}}function ne(e,t,n){const i=y();let{background:o=!0}=t;return e.$$set=e=>{"background"in e&&n(0,o=e.background)},[o,i,()=>i("click")]}class ie extends Y{constructor(e){super(),O(this,e,ne,te,l,{background:0})}}function oe(t){let n,o,l,r;return{c(){n=a("span"),$(n,"id",K()),$(n,"class",o=c(t[3]||"editable")+" svelte-1lht54r"),$(n,"contenteditable","true"),void 0===t[0]&&T((()=>t[5].call(n))),v(n,"description",t[2])},m(e,i){d(e,n,i),void 0!==t[0]&&(n.innerHTML=t[0]),t[6](n),l||(r=[g(n,"keyup",t[4]),g(n,"keydown",t[4]),g(n,"input",t[4]),g(n,"change",t[4]),g(n,"input",t[5])],l=!0)},p(e,[t]){8&t&&o!==(o=c(e[3]||"editable")+" svelte-1lht54r")&&$(n,"class",o),1&t&&e[0]!==n.innerHTML&&(n.innerHTML=e[0]),12&t&&v(n,"description",e[2])},i:e,o:e,d(e){e&&s(n),t[6](null),l=!1,i(r)}}}function le(e,t,n){const i=y();let{value:o=""}=t,{element:l}=t,{description:c=!1}=t,{c:r=null}=t;var d;return d=()=>{o||n(0,o=""),l.addEventListener("api-focus",(()=>{console.log("Got focus: ",l.id,l.innerText),document.activeElement.closest(`#${l.id}`)||(l.focus(),setTimeout((()=>{return e=l,void(document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select()));var e,t,n})))})),i("ready")},w().$$.on_mount.push(d),e.$$set=e=>{"value"in e&&n(0,o=e.value),"element"in e&&n(1,l=e.element),"description"in e&&n(2,c=e.description),"c"in e&&n(3,r=e.c)},[o,l,c,r,function(e){if(i("change",e),"keydown"===e.type){if("Backspace"===e.key&&0===o.trim().length&&(i("delete"),e.preventDefault()),"Enter"===e.code&&e.ctrlKey)return void i("togglecomplete");if(e.shiftKey&&"Enter"===e.key)return e.preventDefault(),void i("description");"Enter"!==e.key||c||(e.preventDefault(),i("newbullet")),"Tab"===e.key&&(c?(!function(){if(!window.getSelection)return;const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0);t.collapse(!0);const n=document.createElement("span");n.appendChild(document.createTextNode("\t")),n.style.whiteSpace="pre",t.insertNode(n),t.setStartAfter(n),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}(),e.preventDefault()):(e.preventDefault(),e.shiftKey?i("outdent"):i("indent"))),"ArrowUp"===e.key&&i("selectup"),"ArrowDown"===e.key&&i("selectdown")}},function(){o=this.innerHTML,n(0,o)},function(e){E[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class ce extends Y{constructor(e){super(),O(this,e,le,oe,l,{value:0,element:1,description:2,c:3})}}function re(e,t,n){const i=e.slice();return i[39]=t[n],i[41]=n,i}function de(e){let t,n,i,o,l,c,u,p,h,m,g,b,x,w,y,k,_;const q=[ae,ue],C=[];function S(e,t){return e[0].children?.length?0:1}o=S(e),l=C[o]=q[o](e),u=new ie({props:{background:!!e[0].children?.length&&!e[0].open}}),u.$on("click",e[10]);let T="checkbox"===e[0].display&&pe(e);function A(t){e[12](t)}let z={};function H(t){e[23](t)}void 0!==e[0].text&&(z.value=e[0].text),m=new ce({props:z}),E.push((()=>Q(m,"value",A))),m.$on("change",e[13]),m.$on("delete",e[14]),m.$on("newbullet",e[15]),m.$on("ready",e[16]),m.$on("outdent",e[17]),m.$on("indent",e[18]),m.$on("selectup",e[19]),m.$on("selectdown",e[20]),m.$on("togglecomplete",e[21]),m.$on("description",e[22]);let M={description:!0,c:"description"};return void 0!==e[0].description&&(M.value=e[0].description),w=new ce({props:M}),E.push((()=>Q(w,"value",H))),w.$on("change",e[24]),w.$on("delete",e[25]),w.$on("togglecomplete",e[26]),w.$on("description",e[27]),{c(){t=a("li"),n=a("div"),i=a("div"),l.c(),c=f(),R(u.$$.fragment),p=f(),T&&T.c(),h=f(),R(m.$$.fragment),b=f(),x=a("span"),R(w.$$.fragment),$(i,"class","bullets svelte-jl2cus"),$(n,"class","top svelte-jl2cus"),$(x,"class","description svelte-jl2cus"),v(x,"empty",!e[0].description?.trim()?.length),$(t,"class","item svelte-jl2cus"),$(t,"id",k="item_"+e[0].id),v(t,"completed",e[0].completed)},m(e,l){d(e,t,l),r(t,n),r(n,i),C[o].m(i,null),r(i,c),W(u,i,null),r(i,p),T&&T.m(i,null),r(n,h),W(m,n,null),r(t,b),r(t,x),W(w,x,null),_=!0},p(e,n){let r=o;o=S(e),o===r?C[o].p(e,n):(B(),N(C[r],1,1,(()=>{C[r]=null})),I(),l=C[o],l?l.p(e,n):(l=C[o]=q[o](e),l.c()),V(l,1),l.m(i,c));const d={};1&n[0]&&(d.background=!!e[0].children?.length&&!e[0].open),u.$set(d),"checkbox"===e[0].display?T?(T.p(e,n),1&n[0]&&V(T,1)):(T=pe(e),T.c(),V(T,1),T.m(i,null)):T&&(B(),N(T,1,1,(()=>{T=null})),I());const s={};!g&&1&n[0]&&(g=!0,s.value=e[0].text,j((()=>g=!1))),m.$set(s);const a={};!y&&1&n[0]&&(y=!0,a.value=e[0].description,j((()=>y=!1))),w.$set(a),(!_||1&n[0])&&v(x,"empty",!e[0].description?.trim()?.length),(!_||1&n[0]&&k!==(k="item_"+e[0].id))&&$(t,"id",k),(!_||1&n[0])&&v(t,"completed",e[0].completed)},i(e){_||(V(l),V(u.$$.fragment,e),V(T),V(m.$$.fragment,e),V(w.$$.fragment,e),_=!0)},o(e){N(l),N(u.$$.fragment,e),N(T),N(m.$$.fragment,e),N(w.$$.fragment,e),_=!1},d(e){e&&s(t),C[o].d(),D(u),T&&T.d(),D(m),D(w)}}}function se(e){let t,n,i,o,l;function c(t){e[5](t)}let r={};return void 0!==e[0].text&&(r.value=e[0].text),n=new ce({props:r}),E.push((()=>Q(n,"value",c))),n.$on("selectdown",e[6]),n.$on("newbullet",e[7]),{c(){t=a("h2"),R(n.$$.fragment),$(t,"class","item_title svelte-jl2cus"),$(t,"id",o="item_"+e[0].id)},m(e,i){d(e,t,i),W(n,t,null),l=!0},p(e,c){const r={};!i&&1&c[0]&&(i=!0,r.value=e[0].text,j((()=>i=!1))),n.$set(r),(!l||1&c[0]&&o!==(o="item_"+e[0].id))&&$(t,"id",o)},i(e){l||(V(n.$$.fragment,e),l=!0)},o(e){N(n.$$.fragment,e),l=!1},d(e){e&&s(t),D(n)}}}function ue(t){let n;return{c(){n=a("span"),$(n,"class","spacer svelte-jl2cus")},m(e,t){d(e,n,t)},p:e,i:e,o:e,d(e){e&&s(n)}}}function ae(e){let t,n,i;function o(t){e[8](t)}let l={};return void 0!==e[0].open&&(l.collapsed=e[0].open),t=new F({props:l}),E.push((()=>Q(t,"collapsed",o))),t.$on("change",e[9]),{c(){R(t.$$.fragment)},m(e,n){W(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.collapsed=e[0].open,j((()=>n=!1))),t.$set(o)},i(e){i||(V(t.$$.fragment,e),i=!0)},o(e){N(t.$$.fragment,e),i=!1},d(e){D(t,e)}}}function pe(t){let n,i;return n=new ee({}),n.$on("click",t[11]),{c(){R(n.$$.fragment)},m(e,t){W(n,e,t),i=!0},p:e,i(e){i||(V(n.$$.fragment,e),i=!0)},o(e){N(n.$$.fragment,e),i=!1},d(e){D(n,e)}}}function he(e){let t,n,i=e[0].children,o=[];for(let t=0;t<i.length;t+=1)o[t]=fe(re(e,i,t));const l=e=>N(o[e],1,1,(()=>{o[e]=null}));return{c(){t=a("ul");for(let e=0;e<o.length;e+=1)o[e].c();$(t,"class","svelte-jl2cus"),v(t,"children",!e[2])},m(e,i){d(e,t,i);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,c){if(19&c[0]){let n;for(i=e[0].children,n=0;n<i.length;n+=1){const l=re(e,i,n);o[n]?(o[n].p(l,c),V(o[n],1)):(o[n]=fe(l),o[n].c(),V(o[n],1),o[n].m(t,null))}for(B(),n=i.length;n<o.length;n+=1)l(n);I()}(!n||4&c[0])&&v(t,"children",!e[2])},i(e){if(!n){for(let e=0;e<i.length;e+=1)V(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)N(o[e]);n=!1},d(e){e&&s(t),u(o,e)}}}function fe(e){let t,n;return t=new $e({props:{item:e[39]}}),t.$on("zoom",e[28]),t.$on("indent",e[29]),t.$on("togglecomplete",e[30]),t.$on("delete",e[31]),t.$on("outdent",e[32]),t.$on("parentoutdent",e[33]),t.$on("selectup",e[34]),t.$on("selectdown",e[35]),t.$on("newbullet",e[36]),t.$on("change",(function(...t){return e[37](e[41],...t)})),{c(){R(t.$$.fragment)},m(e,i){W(t,e,i),n=!0},p(n,i){e=n;const o={};1&i[0]&&(o.item=e[39]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){N(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function me(e){let t,n,i,o,l;const c=[se,de],u=[];function p(e,t){return e[2]?0:1}n=p(e),i=u[n]=c[n](e);let h=e[0].children&&(e[0].open||e[3])&&he(e);return{c(){t=a("div"),i.c(),o=f(),h&&h.c(),$(t,"class","item svelte-jl2cus"),v(t,"parentcompleted",e[0].completed)},m(i,c){d(i,t,c),u[n].m(t,null),r(t,o),h&&h.m(t,null),e[38](t),l=!0},p(e,r){let d=n;n=p(e),n===d?u[n].p(e,r):(B(),N(u[d],1,1,(()=>{u[d]=null})),I(),i=u[n],i?i.p(e,r):(i=u[n]=c[n](e),i.c()),V(i,1),i.m(t,o)),e[0].children&&(e[0].open||e[3])?h?(h.p(e,r),9&r[0]&&V(h,1)):(h=he(e),h.c(),V(h,1),h.m(t,null)):h&&(B(),N(h,1,1,(()=>{h=null})),I()),(!l||1&r[0])&&v(t,"parentcompleted",e[0].completed)},i(e){l||(V(i),V(h),l=!0)},o(e){N(i),N(h),l=!1},d(i){i&&s(t),u[n].d(),h&&h.d(),e[38](null)}}}function ge(e,t,n){let{item:i={}}=t,{isTop:o=!1}=t,{container:l}=t;const c=y();let r=!1;var d;d=()=>{void 0===i.open&&n(0,i.open=!0,i),o&&!i.open&&n(3,r=!0),i.children||n(0,i.children=[],i),i.description||n(0,i.description="",i),c("change",i)},w().$$.after_update.push(d);return e.$$set=e=>{"item"in e&&n(0,i=e.item),"isTop"in e&&n(2,o=e.isTop),"container"in e&&n(1,l=e.container)},[i,l,o,r,c,function(t){e.$$.not_equal(i.text,t)&&(i.text=t,n(0,i))},e=>{i.children?.length&&l.querySelector(`#item_${i.children[0].id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>{const t=K();n(0,i.children=[{text:"",id:t,children:[],completed:!1},...i.children],i),setTimeout((()=>{l.querySelector(`#item_${t} .editable`).dispatchEvent(new CustomEvent("api-focus"))}))},function(t){e.$$.not_equal(i.open,t)&&(i.open=t,n(0,i))},()=>c("change",i),()=>c("zoom",{item:i}),()=>c("togglecomplete",{id:i.id}),function(t){e.$$.not_equal(i.text,t)&&(i.text=t,n(0,i))},()=>c("change",i),()=>c("delete",{id:i.id}),()=>c("newbullet",{id:i.id}),()=>c("ready",{id:i.id}),()=>c("outdent",{id:i.id}),()=>c("indent",{id:i.id}),()=>c("selectup",{id:i.id}),()=>c("selectdown",{id:i.id}),()=>c("togglecomplete",{id:i.id}),()=>{l.querySelector(`#item_${i.id} .description[contenteditable]`).dispatchEvent(new CustomEvent("api-focus"))},function(t){e.$$.not_equal(i.description,t)&&(i.description=t,n(0,i))},()=>c("change",i),()=>{l.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},()=>c("togglecomplete",{id:i.id}),()=>{l.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>c("zoom",{item:e.detail.item}),e=>{let t=i.children.findIndex((t=>t.id===e.detail.id)),o=i.children.find((t=>t.id===e.detail.id));t>0&&(n(0,i.children[t-1].children=[...i.children[t-1].children||[],o],i),n(0,i.children=i.children.filter((e=>e.id!==o.id)),i),setTimeout((()=>{l.querySelector(`#item_${o.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))})))},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));n(0,i.children[t].completed=!i.children[t].completed,i)},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));t>0?l.querySelector(`#item_${i.children[t-1].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):l.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus")),n(0,i.children=i.children.filter((t=>t.id!==e.detail.id)),i)},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id)),o=i.children[t];if(t<i.children.length-1){let e=i.children.slice(t,i.children.length);e=e.filter((e=>e.id!==o.id)),console.log(e),n(0,i.children=i.children.slice(0,t+1),i),o.children||(o.children=[]),o.children.push(...e)}n(0,i.children=i.children.filter((e=>e.id!==o.id)),i),setTimeout((()=>{n(0,i.children=i.children.filter((e=>e.id!==o.id)),i)})),console.log(o,i),c("parentoutdent",{item:o,parent:i}),c("change",i)},e=>{let t=i.children.findIndex((t=>t.id===e.detail.parent.id));i.children.splice(t+1,0,e.detail.item),setTimeout((()=>{l.querySelector(`#item_${e.detail.item.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))}))},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));t>0?i.children[t-1]?.children?.length?l.querySelector(`#item_${i.children[t-1].children.slice(-1)[0].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):l.querySelector(`#item_${i.children[t-1].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):0===t&&l.querySelector(`#item_${i.id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>{let t=i.children.findIndex((t=>t.id===e.detail.id));!i.children[t].children?.length||e.detail.skip?t<i.children?.length-1?l.querySelector(`#item_${i.children[t+1].id} .editable`).dispatchEvent(new CustomEvent("api-focus")):t===i.children?.length-1&&c("selectdown",{id:i.id,skip:!0}):l.querySelector(`#item_${i.children[t].children[0].id} .editable`).dispatchEvent(new CustomEvent("api-focus"))},e=>{const t=K();let o=i.children.findIndex((t=>t.id===e.detail.id));i.children.splice(o+1,0,{text:"",id:t,children:[],completed:!1}),n(0,i.children=[...i.children],i),setTimeout((()=>{l.querySelector(`#item_${t} .editable`).dispatchEvent(new CustomEvent("api-focus"))}))},(e,t)=>(n(0,i.children[e]=t.detail,i),c("change",i)),function(e){E[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class $e extends Y{constructor(e){super(),O(this,e,ge,me,l,{item:0,isTop:2,container:1},null,[-1,-1])}}function ve(e,t,n){const i=e.slice();return i[8]=t[n],i[10]=n,i}function be(e){let t,n;return{c(){t=p("svg"),n=p("path"),$(n,"fill","currentColor"),$(n,"d","M96 214a6 6 0 0 1-4.2-10.2l75.7-75.8l-75.7-75.8a5.9 5.9 0 0 1 8.4-8.4l80 80a5.8 5.8 0 0 1 0 8.4l-80 80A5.8 5.8 0 0 1 96 214Z"),$(t,"class","right nomargin svelte-qpszqc"),$(t,"width","32"),$(t,"height","32"),$(t,"viewBox","0 0 256 256")},m(e,i){d(e,t,i),r(t,n)},d(e){e&&s(t)}}}function xe(e){let t,n,i,o,l,c,u=e[8].text+"",p=e[8]!==e[1].filter(e[4]).slice(-1)[0];function v(){return e[7](e[10])}let b=p&&we();return{c(){t=a("button"),n=h(u),i=f(),b&&b.c(),o=m(),$(t,"class","crumb svelte-qpszqc")},m(e,s){d(e,t,s),r(t,n),d(e,i,s),b&&b.m(e,s),d(e,o,s),l||(c=g(t,"click",v),l=!0)},p(t,i){e=t,2&i&&u!==(u=e[8].text+"")&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(n,u),2&i&&(p=e[8]!==e[1].filter(e[4]).slice(-1)[0]),p?b||(b=we(),b.c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null)},d(e){e&&s(t),e&&s(i),b&&b.d(e),e&&s(o),l=!1,c()}}}function we(e){let t,n;return{c(){t=p("svg"),n=p("path"),$(n,"fill","currentColor"),$(n,"d","M96 214a6 6 0 0 1-4.2-10.2l75.7-75.8l-75.7-75.8a5.9 5.9 0 0 1 8.4-8.4l80 80a5.8 5.8 0 0 1 0 8.4l-80 80A5.8 5.8 0 0 1 96 214Z"),$(t,"class","right svelte-qpszqc"),$(t,"width","32"),$(t,"height","32"),$(t,"viewBox","0 0 256 256")},m(e,i){d(e,t,i),r(t,n)},d(e){e&&s(t)}}}function ye(e){let t,n=!Array.isArray(e[8]),i=n&&xe(e);return{c(){i&&i.c(),t=m()},m(e,n){i&&i.m(e,n),d(e,t,n)},p(e,o){2&o&&(n=!Array.isArray(e[8])),n?i?i.p(e,o):(i=xe(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(e){i&&i.d(e),e&&s(t)}}}function ke(t){let n,i,o,l,c,h,m,v=t[1].filter(t[5]).length>0,b=v&&be(),x=t[1],w=[];for(let e=0;e<x.length;e+=1)w[e]=ye(ve(t,x,e));return{c(){n=a("div"),i=p("svg"),o=p("path"),l=f(),b&&b.c(),c=f();for(let e=0;e<w.length;e+=1)w[e].c();$(o,"fill","currentColor"),$(o,"d","M208 222H48a14 14 0 0 1-14-14v-92.5a13.9 13.9 0 0 1 4.6-10.3l80-72.8a14.1 14.1 0 0 1 18.8 0l80 72.8a13.9 13.9 0 0 1 4.6 10.3V208a14 14 0 0 1-14 14ZM128 40.8a1.9 1.9 0 0 0-1.3.5l-80 72.8a1.6 1.6 0 0 0-.7 1.4V208a2 2 0 0 0 2 2h160a2 2 0 0 0 2-2v-92.5a1.8 1.8 0 0 0-.6-1.4l-80.1-72.8a1.9 1.9 0 0 0-1.3-.5Z"),$(i,"class","home svelte-qpszqc"),$(i,"width","32"),$(i,"height","32"),$(i,"viewBox","0 0 256 256"),$(n,"class","crumb_container svelte-qpszqc")},m(e,s){d(e,n,s),r(n,i),r(i,o),r(n,l),b&&b.m(n,null),r(n,c);for(let e=0;e<w.length;e+=1)w[e].m(n,null);h||(m=g(i,"click",t[6]),h=!0)},p(e,[t]){if(2&t&&(v=e[1].filter(e[5]).length>0),v?b||(b=be(),b.c(),b.m(n,c)):b&&(b.d(1),b=null),7&t){let i;for(x=e[1],i=0;i<x.length;i+=1){const o=ve(e,x,i);w[i]?w[i].p(o,t):(w[i]=ye(o),w[i].c(),w[i].m(n,null))}for(;i<w.length;i+=1)w[i].d(1);w.length=x.length}},i:e,o:e,d(e){e&&s(n),b&&b.d(),u(w,e),h=!1,m()}}}function Ee(e,t,n){const i=y();let{path:o}=t,{bullet:l={}}=t,c=[];return e.$$set=e=>{"path"in e&&n(0,o=e.path),"bullet"in e&&n(3,l=e.bullet)},e.$$.update=()=>{if(9&e.$$.dirty)e:{if(!o){n(1,c=[]);break e}let e=o.split("."),t=[],i=l;for(let n of e)t.push(i[n]),i=i[n];n(1,c=t)}},[o,c,i,l,e=>!Array.isArray(e),e=>!Array.isArray(e),()=>i("click",{path:""}),e=>i("click",{path:o.split(".").slice(0,e+1)})]}class _e extends Y{constructor(e){super(),O(this,e,Ee,ke,l,{path:0,bullet:3})}}function qe(e){let t,n,i,o,l,c,u,h,m,v,b,x,w;function y(t){e[7](t)}n=new _e({props:{path:e[0],bullet:e[1]}}),n.$on("click",e[5]);let k={isTop:!0};return void 0!==e[2]&&(k.item=e[2]),m=new $e({props:k}),E.push((()=>Q(m,"item",y))),m.$on("change",e[3]),m.$on("zoom",e[8]),{c(){t=a("div"),R(n.$$.fragment),i=f(),o=p("svg"),l=p("path"),c=f(),u=a("div"),h=a("div"),R(m.$$.fragment),$(l,"fill","currentColor"),$(l,"d","M216 34H88a6 6 0 0 0-6 6v42H40a6 6 0 0 0-6 6v128a6 6 0 0 0 6 6h128a6 6 0 0 0 6-6v-42h42a6 6 0 0 0 6-6V40a6 6 0 0 0-6-6Zm-54 176H46V94h116Zm48-48h-36V88a6 6 0 0 0-6-6H94V46h116Z"),$(o,"class","copy svelte-mfrulk"),$(o,"width","32"),$(o,"height","32"),$(o,"viewBox","0 0 256 256"),$(t,"class","header svelte-mfrulk"),$(h,"class","container svelte-mfrulk"),$(u,"class","outer_container svelte-mfrulk")},m(s,a){d(s,t,a),W(n,t,null),r(t,i),r(t,o),r(o,l),d(s,c,a),d(s,u,a),r(u,h),W(m,h,null),b=!0,x||(w=g(o,"click",e[6]),x=!0)},p(e,[t]){const i={};1&t&&(i.path=e[0]),2&t&&(i.bullet=e[1]),n.$set(i);const o={};!v&&4&t&&(v=!0,o.item=e[2],j((()=>v=!1))),m.$set(o)},i(e){b||(V(n.$$.fragment,e),V(m.$$.fragment,e),b=!0)},o(e){N(n.$$.fragment,e),N(m.$$.fragment,e),b=!1},d(e){e&&s(t),D(n),e&&s(c),e&&s(u),D(m),x=!1,w()}}}function Ce(e,t){for(var n in t)if(t.hasOwnProperty(n)){if(e===t[n])return n;if(t[n]&&"object"==typeof t[n]){var i=Ce(e,t[n]);if(i)return n+"."+i}}}function Se(e,t,n){let i,o={text:"Hello <i>world</i>",description:"Description",id:"tukpjtucg",completed:!1,children:[{text:"What is this?",id:"xlhueplvhc",children:[{text:"It's a clone of a popular app called Workflowy",id:"orufxxowvt",children:[{text:"What is Workflowy?",id:"pyvl",children:[{text:"Basically what you're seeing here",id:"jginukt",children:[],completed:!1,description:"",open:!0},{text:"Coming soon:",id:"vlhekkhyh",children:[{text:"mirror items",id:"rpkqtwnja",children:[],completed:!1,description:"",open:!0},{text:"Add links, formatting toolbar",id:"ljgfuczcn",children:[],completed:!1,description:"",open:!0},{text:"Corner click menus",id:"magpdsz",children:[],completed:!1,description:"",open:!0},{text:"Parse exported items from workflowy",id:"xntpyxib",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Why?",id:"adewrnpl",children:[{text:"I was bored",id:"wycremrdh",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!1}],completed:!1,description:"Workflowy isn't open source. Which annoys me",open:!0},{text:"Who made it?",id:"vsjjyvn",children:[{text:"@Explosion-Scratch",id:"mbrfqyvk",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Click the home button in the header to see more!",id:"home"}],completed:!1,description:"",open:!0},{text:"How do I use it?",id:"ivvhql",children:[{text:"Just type basically",id:"vqrioja",children:[],completed:!1,description:"",open:!0},{text:"Hit enter to create a new bullet point",id:"dwkdpdobsj",children:[{text:"Hover over the bullet icon of a bullet point to collapse it",id:"igaitpi",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Press tab to indent an item",id:"azozdsc",children:[{text:"Press Shift + Tab to undo it",id:"vruwdrvhhf",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0},{text:"Click on the menu up top to navigate back to the main notes!",id:"quaw",children:[],completed:!1,description:"",open:!0},{text:"Use shift + enter to add a description",id:"gkdjyurwse",children:[{text:"Press shift + enter again to go back to editing bullet points",id:"enwefxnd",children:[],completed:!1,description:"",open:!0}],completed:!1,description:"Like this",open:!0}],completed:!1,description:"",open:!1},{text:"Show me some features!",id:"dalmdwc",children:[{text:"It's rich HTML so you can use <b>bold</b>&nbsp;and <i>italic</i>&nbsp;text",id:"atlmloojt",children:[],completed:!1,description:"",open:!0},{text:"You can collapse items by clicking on the arrow new to the bullet point",id:"dipzengk",children:[],completed:!1,description:"",open:!0},{text:'You can "zoom" to items by clicking on the bullet point',id:"tvdsgndh",children:[],completed:!1,description:"",open:!0},{text:"You can add descriptions with Shift + enter",id:"lfobtj",children:[],completed:!1,description:"",open:!0},{text:"You eventually will be able to toggle the style of the bullet points",id:"tialrbnq",children:[{text:"Like this checkbox!",id:"maypdcfsvd",children:[],display:"checkbox",completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0}],completed:!1,description:"",open:!0}],open:!0},l=o.children[0];const c=(e,t)=>t.reduce(((e,t)=>e&&null!==e[t]&&void 0!==e[t]?e[t]:null),e);return[i,o,l,function(){l.id==o.id?(n(1,o=l),n(0,i="")):(n(0,i=Ce(l,o)),console.log(i),n(1,o=function(e,t,n){const i=t.split("."),o=i.pop();return i.reduce(((e,t)=>(void 0===e[t]&&(e[t]={}),e[t])),e)[o]=n,e}(o,i,l)))},c,e=>{n(2,l=""===e.detail.path?o:c(o,e.detail.path))},()=>navigator.clipboard.writeText(JSON.stringify(o,null,2)),function(e){l=e,n(2,l)},e=>n(2,l=e.detail.item)]}return new class extends Y{constructor(e){super(),O(this,e,Se,qe,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
